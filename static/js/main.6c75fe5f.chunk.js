(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,a,t){},113:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(9),o=t.n(i),l=(t(100),t(84)),s=t(18),c=t(19),m=t(21),u=t(20),p=t(39),d=t(22),h=t(29),b=t(64),f=t(56),E=t.n(f),g=t(4),y=t(153),O=t(164),j=t(151),v=t(152),w=t(155),k=t(58),C=t(154),x=t(149),T=t(76),P=t.n(T),S=t(79),N=t.n(S),B=t(77),_=t.n(B),A=t(78),I=t.n(A),D=t(156),L=t(157),R=t(158),q=t(80),z=t.n(q),M=t(81),U=t.n(M),H=t(75),W=t.n(H),$=t(74),G=t.n($),J=t(165),X=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e,a=this.props,t=a.classes,n=a.symbol,i=a.syllables,o=r.a.createElement(x.a,{color:"inherit","aria-label":"Synalepha",className:t.synalepha},r.a.createElement(G.a,null));return e=i?i.map(function(e,a){return[r.a.createElement(J.a,{key:"$".concat(e).concat(a),color:e.is_stressed?"primary":"default",label:e.syllable}),e.has_synalepha?o:""]}):r.a.createElement(J.a,{variant:"outlined",label:n}),r.a.createElement("div",{className:t.token},[e,r.a.createElement("span",{style:{marginRight:"0.75em"}})])}}]),a}(r.a.Component),F=Object(g.a)(function(e){return{token:{display:"inline-block"},stressed:{backgroundColor:"red"},synalepha:{padding:0}}})(X),Y=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this.props,a=e.classes,t=e.tokens,n=e.annotations,i=t.map(function(e,a){return e.symbol?r.a.createElement(F,{key:"$".concat(e.symbol||e.word).concat(a),symbol:e.symbol}):r.a.createElement(F,{syllables:e.word})}),o=n.enjambment&&0!==n.enjambment.length?r.a.createElement(x.a,{color:"inherit","aria-label":"Enjambment",className:a.enjambment},r.a.createElement(W.a,null)):"";return r.a.createElement("div",{className:a.line},r.a.createElement("span",null,i),r.a.createElement("span",null,o))}}]),a}(r.a.Component),K=Object(g.a)(function(e){return{line:{display:"inline-block",width:"100%",margin:"0.25em"},enjambment:{padding:0}}})(Y),Q={API_ROOT:"http://62.204.199.36:5000/",POEM_TITLE:"El Pr\xedncipe constante",POEM_TEXT:"\xc9stas que fueron pompa y alegr\xeda\ndespertando al albor de la ma\xf1a-\nna, a la tarde ser\xe1n l\xe1stima vana\ndurmiendo en brazos de la noche fr\xeda.\n\nEste matiz que al cielo desaf\xeda,\nIris listado de oro, nieve y grana,\nser\xe1 escarmiento de la vida humana:\n\xa1tanto se emprende en t\xe9rmino de un d\xeda!\n\nA florecer las rosas madrugaron,\ny para envejecerse florecieron:\ncuna y sepulcro en un bot\xf3n hallaron.\n\nTales los hombres sus fortunas vieron:\nen un d\xeda nacieron y espiraron;\nque pasados los siglos horas fueron."},V=function(e){return 0===Object.entries(e).length&&e.constructor===Object},Z=function(e){function a(){return Object(s.a)(this,a),Object(m.a)(this,Object(u.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e,a=this.props.poem;return e=V(a.analysis)?a.text.split(/[\n]+/).map(function(e,a){return r.a.createElement(k.a,{key:a,paragraph:!0},e)}):a.analysis.scansion.map(function(e,t){return r.a.createElement(K,{tokens:e.tokens,annotations:{enjambment:a.analysis.enjambment[t]||[]}})}),r.a.createElement("div",null,e)}}]),a}(r.a.Component),ee=Object(g.a)(function(e){return{textarea:{width:"50em"}}})(Z),ae=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).handleDrawerOpen=function(){t.setState({open:!0})},t.handleDrawerClose=function(){t.setState({open:!1})},t.state={open:!1,operations:["scansion","enjambment"]},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidUpdate",value:function(){var e=this,a=this.props,t=a.current,n=a.poems[t],r=n?n.text:null,i=n?n.analysis:{};V(i)&&r&&function(e,a,t){var n=a.map(function(e){return"operations=".concat(e)}).join("&");fetch(Q.API_ROOT+"analysis?".concat(n),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:e}).then(function(e){return e.json()}).catch(function(e){return console.warn("Fetch failed for analysis"),{}}).then(function(e){V(e)||t(e)})}(r,this.state.operations,function(a){return e.props.updatePoem(Object(b.a)({},n,{analysis:a}))})}},{key:"render",value:function(){var e=this,a=this.props,t=a.classes,n=a.theme,i=a.current,o=a.poems,l=this.state.open,s=o[i],c=s?s.title:"",m=s?s.text:"",u=s?r.a.createElement(ee,{poem:s}):"To start, add a poem";return r.a.createElement("div",{className:t.root},r.a.createElement(O.a,null),r.a.createElement(j.a,{position:"fixed",className:E()(t.appBar,Object(h.a)({},t.appBarShift,l))},r.a.createElement(v.a,{disableGutters:!l},r.a.createElement(x.a,{color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerOpen,className:E()(t.menuButton,l&&t.hide)},r.a.createElement(P.a,null)),r.a.createElement(k.a,{variant:"h6",color:"inherit",noWrap:!0},"PoetryLab: ",c))),r.a.createElement(y.a,{className:t.drawer,variant:"persistent",anchor:"left",open:l,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(x.a,{onClick:this.handleDrawerClose},"ltr"===n.direction?r.a.createElement(_.a,null):r.a.createElement(I.a,null))),r.a.createElement(C.a,null),r.a.createElement(w.a,null,this.props.poems.map(function(a,t){var n=a.title;a._;return r.a.createElement(D.a,{button:!0,key:n,onClick:function(){return e.props.changeCurrent(t)}},r.a.createElement(L.a,null,r.a.createElement(N.a,null)),r.a.createElement(R.a,{primary:n}))})),r.a.createElement(C.a,null),r.a.createElement(w.a,null,r.a.createElement(D.a,{button:!0,key:"Upload a zip"},r.a.createElement(L.a,null,r.a.createElement(z.a,null)),r.a.createElement(R.a,{primary:"Upload a zip"})),r.a.createElement(D.a,{button:!0,key:"Download all"},r.a.createElement(L.a,null,r.a.createElement(U.a,null)),r.a.createElement(R.a,{primary:"Download all"})))),r.a.createElement("main",{className:E()(t.content,Object(h.a)({},t.contentShift,l))},r.a.createElement("div",{className:t.drawerHeader}),u,s&&V(s.analysis)&&m?"Analyzing...":""))}}]),a}(r.a.Component),te=Object(g.a)(function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginLeft:12,marginRight:20},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(b.a)({display:"flex",alignItems:"center",padding:"0 8px"},e.mixins.toolbar,{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}},{withTheme:!0})(ae),ne=t(161),re=t(159),ie=t(82),oe=t.n(ie),le=t(160),se=t(83),ce=t.n(se),me=t(114),ue=t(162),pe=r.a.forwardRef(function(e,a){return r.a.createElement(me.a,Object.assign({direction:"up"},e,{ref:a}))}),de=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=Object(m.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(r)))).state={open:!1,poemTitle:Q.POEM_TITLE,poemText:Q.POEM_TEXT},t.handleClickOpen=function(){t.setState({open:!0})},t.handleClose=function(){t.setState({open:!1})},t.handleSubmit=function(){t.props.onSubmit(t.state.poemTitle,t.state.poemText),t.handleClose()},t.handleTextChange=function(e,a){t.setState(Object(h.a)({},[a],e.target.value))},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){var e=this,a=this.props.classes;return r.a.createElement("div",null,r.a.createElement(re.a,{color:"primary",variant:"extended","aria-label":"Add",className:a.fab,onClick:this.handleClickOpen},r.a.createElement(oe.a,null),"Add Poem"),r.a.createElement(le.a,{fullScreen:!0,open:this.state.open,onClose:this.handleClose,TransitionComponent:pe},r.a.createElement(j.a,{className:a.appBar},r.a.createElement(v.a,null,r.a.createElement(x.a,{color:"inherit",onClick:this.handleClose,"aria-label":"Close"},r.a.createElement(ce.a,null)),r.a.createElement(k.a,{variant:"h6",color:"inherit",className:a.flex},"Add Poem"),r.a.createElement(ne.a,{color:"inherit",onClick:this.handleSubmit},"Submit"))),r.a.createElement(w.a,null,r.a.createElement(D.a,{button:!0},r.a.createElement(ue.a,{required:!0,label:"Title",margin:"normal",value:this.state.poemTitle,onChange:function(a){return e.handleTextChange(a,"poemTitle")}})),r.a.createElement(D.a,{button:!0},r.a.createElement(ue.a,{required:!0,className:a.textarea,label:"Enter your poem text",multiline:!0,margin:"normal",variant:"filled",helperText:"You can use multiline",value:this.state.poemText,onChange:function(a){return e.handleTextChange(a,"poemText")}})))))}}]),a}(r.a.Component),he=Object(g.a)(function(e){return{appBar:{position:"relative"},flex:{flex:1},fab:{margin:e.spacing(1),position:"absolute",float:"right",bottom:e.spacing(1),right:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)},textarea:{width:"50em"}}})(de),be=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(m.a)(this,Object(u.a)(a).call(this,e))).state={poems:[],current:-1},t.addPoem=t.addPoem.bind(Object(p.a)(t)),t.changeCurrentPoem=t.changeCurrentPoem.bind(Object(p.a)(t)),t.updatePoem=t.updatePoem.bind(Object(p.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"addPoem",value:function(e,a){this.setState({poems:[].concat(Object(l.a)(this.state.poems),[{title:e,text:a,analysis:{}}]),current:this.state.poems.length})}},{key:"updatePoem",value:function(e){var a=this.state,t=a.poems;t[a.current]=e,this.setState({poems:t}),this.forceUpdate()}},{key:"changeCurrentPoem",value:function(e){this.setState({current:e})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(te,Object.assign({},this.state,{changeCurrent:this.changeCurrentPoem,updatePoem:this.updatePoem})),r.a.createElement(he,{onSubmit:this.addPoem}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},95:function(e,a,t){e.exports=t(113)}},[[95,1,2]]]);
//# sourceMappingURL=main.6c75fe5f.chunk.js.map